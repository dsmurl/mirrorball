{
  "$schema": "https://json.schemastore.org/iam-policy",
  "ServiceImagesRWPolicy": {
    "Version": "2012-10-17",
    "Statement": [
      {
        "Sid": "S3ImagesRW",
        "Effect": "Allow",
        "Action": ["s3:PutObject", "s3:GetObject", "s3:DeleteObject", "s3:ListBucket"],
        "Resource": ["arn:aws:s3:::${bucketName}", "arn:aws:s3:::${bucketName}/images/*"]
      },
      {
        "Sid": "DDBRW",
        "Effect": "Allow",
        "Action": [
          "dynamodb:PutItem",
          "dynamodb:GetItem",
          "dynamodb:DeleteItem",
          "dynamodb:Query",
          "dynamodb:UpdateItem",
          "dynamodb:Scan"
        ],
        "Resource": [
          "arn:aws:dynamodb:${region}:${accountId}:table/${imagesTableName}",
          "arn:aws:dynamodb:${region}:${accountId}:table/${imagesTableName}/index/*"
        ]
      }
    ]
  },
  "ServiceLogsPolicy": {
    "Version": "2012-10-17",
    "Statement": [
      {
        "Sid": "CloudWatchLogs",
        "Effect": "Allow",
        "Action": [
          "logs:CreateLogGroup",
          "logs:CreateLogStream",
          "logs:PutLogEvents",
          "logs:DescribeLogStreams"
        ],
        "Resource": "*"
      }
    ]
  },
  "CloudFrontOACReadPolicy": {
    "Version": "2012-10-17",
    "Statement": [
      {
        "Sid": "S3ReadViaOAC",
        "Effect": "Allow",
        "Action": ["s3:GetObject"],
        "Resource": ["arn:aws:s3:::${bucketName}/site/*", "arn:aws:s3:::${bucketName}/images/*"]
      }
    ]
  }
}
